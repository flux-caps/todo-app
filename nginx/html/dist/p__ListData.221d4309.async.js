(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[550],{16525:function(F){F.exports={color:"color___18U10",customModal:"customModal___ScmVj",shadowWrap:"shadowWrap___35Zen"}},80159:function(F,K,r){"use strict";r.r(K);var C=r(71194),I=r(50146),Z=r(57663),W=r(71577),P=r(48736),j=r(27049),V=r(34792),M=r(48086),Y=r(64896),L=r(37744),O=r(3182),g=r(2824),N=r(94043),v=r.n(N),D=r(67294),R=r(17285),b=r(48103),B=r(5977),x=r(24052),A=r(21010),p=r(94184),s=r.n(p),y=r(16525),m=r.n(y),t=r(85893);(0,A.i_)("en-US"),K.default=function(){var n=(0,B.UO)(),h=(0,D.useRef)(),E=(0,D.useState)(""),T=(0,g.Z)(E,2),pe=T[0],G=T[1],me=(0,D.useState)([]),z=(0,g.Z)(me,2),H=z[0],fe=z[1],ve=(0,D.useState)(!1),J=(0,g.Z)(ve,2),he=J[0],Q=J[1],Ee=(0,D.useState)({}),X=(0,g.Z)(Ee,2),$=X[0],ge=X[1],De=(0,D.useState)(!1),q=(0,g.Z)(De,2),ye=q[0],ee=q[1],Pe=(0,D.useState)(!1),te=(0,g.Z)(Pe,2),Ce=te[0],ae=te[1],Me=(0,D.useState)(n.page),re=(0,g.Z)(Me,2),k=re[0],Ie=re[1],je=(0,D.useState)(0),ne=(0,g.Z)(je,2),Oe=ne[0],be=ne[1],Ze=(0,D.useState)({warmUp:{},playTime:{},coachCorner:{},practiceDrill:{},proTip:{}}),se=(0,g.Z)(Ze,2),ke=se[0],Ve=se[1],Te=(0,D.useState)({}),ue=(0,g.Z)(Te,2),oe=ue[0],we=ue[1],Ue=(0,D.useState)({}),ie=(0,g.Z)(Ue,2),Le=ie[0],Re=ie[1],Se=(0,D.useState)([]),le=(0,g.Z)(Se,2),We=le[0],Be=le[1],S=function(){var l=(0,O.Z)(v().mark(function e(){var i,a,u,_,o,c;return v().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,be(Date.now()),_={title:n.page},n.parentId===void 0){d.next=10;break}return d.next=6,(0,b.rV)({projectionName:n.page,projectionId:n.parentId});case 6:_=d.sent,G((0,t.jsx)(L.Z,{ghost:!1,onBack:function(){return window.history.back()},title:n.page})),d.next=11;break;case 10:G((0,t.jsx)(L.Z,{title:n.page}));case 11:if(console.log(n),n.parentId===void 0){d.next=19;break}return console.log("getfiltered data"),d.next=16,(0,b.mC)({projectionName:n.page,parentId:n.parentId});case 16:o=d.sent,d.next=22;break;case 19:return d.next=21,(0,b.mC)({projectionName:n.page});case 21:o=d.sent;case 22:return o.status==="success"&&fe(o.data),d.next=25,(0,b.fx)({projectionName:n.page});case 25:c=d.sent,c.createForm!==void 0&&we(c.createForm),c.editForm!==void 0&&Re(c.editForm),Be((i=c.createForm)===null||i===void 0||(a=i.properties)===null||a===void 0?void 0:a.map(function(U){return U.valueType==="color"?{title:U.title,dataIndex:U.dataIndex,render:function(ce,de,$e,Ye){return[(0,t.jsx)("div",{className:s()(m().color),style:{backgroundColor:de.color}})]}}:{title:U.title,dataIndex:U.dataIndex}}).concat([{title:"Actions",dataIndex:"actions",width:"8em",key:"option",valueType:"option",render:function(xe,ce,de,$e){return Ke(c.itemActions,n.page,ce)}}])),h==null||(u=h.current)===null||u===void 0||u.reload(),d.next=35;break;case 32:d.prev=32,d.t0=d.catch(0),console.error("Fetch Data failed ",d.t0);case 35:case"end":return d.stop()}},e,null,[[0,32]])}));return function(){return l.apply(this,arguments)}}();(0,D.useEffect)(function(){S()},[]);var Ae=function(){var l=(0,O.Z)(v().mark(function e(i,a){var u,_;return v().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=M.default.loading("loading"),c.prev=1,_={projectionName:i},a.parentId=n.parentId,!_.projectionName){c.next=7;break}return c.next=7,(0,b.Ue)(_,a);case 7:return u(),M.default.success("Added successfully"),c.next=11,S();case 11:return c.abrupt("return",!0);case 14:return c.prev=14,c.t0=c.catch(1),u(),M.default.error("Adding failed, please try again!"),c.next=20,S();case 20:return c.abrupt("return",!1);case 21:case"end":return c.stop()}},e,null,[[1,14]])}));return function(i,a){return l.apply(this,arguments)}}(),Ke=function(e,i,a){var u=[];console.log(e);var _=function(f){e[f].type==="form"&&(u=u.concat([(0,t.jsx)("a",{onClick:function(){ge(a),_e(e[f].key,i)},children:e[f].key},e[f].key)])),e[f].type==="subobject"&&(u=u.concat([(0,t.jsx)("a",{onClick:function(){location.href="/listdata/".concat(e[f].projectionName,"/").concat(a.projectionId)},children:e[f].key},e[f].key)])),console.log(e[f])};for(var o in e)_(o);return u},Fe=function(){var l=(0,O.Z)(v().mark(function e(i,a,u){var _,o;return v().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return _=M.default.loading("Configuring"),f.prev=1,o={projectionName:i,projectionId:a},u.parentId=n.parentId,u.image=null,f.next=7,(0,b.Vx)(o,u);case 7:return _(),M.default.success("Configuration is successful"),f.next=11,S();case 11:return f.abrupt("return",!0);case 14:return f.prev=14,f.t0=f.catch(1),_(),M.default.error("Configuration failed, please try again!"),f.abrupt("return",!1);case 19:case"end":return f.stop()}},e,null,[[1,14]])}));return function(i,a,u){return l.apply(this,arguments)}}(),Ne=function(){var l=(0,O.Z)(v().mark(function e(i,a){var u;return v().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u=M.default.loading("Loading"),o.prev=1,o.next=4,(0,b.wz)({projectionName:i,projectionId:a});case 4:return u(),M.default.success("Deleted successfully and will refresh soon"),o.next=8,S();case 8:return o.abrupt("return",!0);case 11:return o.prev=11,o.t0=o.catch(1),u(),M.default.error("Delete failed, please try again"),o.abrupt("return",!1);case 16:case"end":return o.stop()}},e,null,[[1,11]])}));return function(i,a){return l.apply(this,arguments)}}(),_e=function(e,i){switch(Ie(i),e){case"editForm":ee(!0);break;case"createForm":Q(!0);break;case"deleteForm":ae(!0);break}},w=function(){ee(!1),Q(!1),ae(!1)};return(0,t.jsxs)(t.Fragment,{children:[pe,(0,t.jsx)(j.Z,{}),(0,t.jsx)(x.ZP,{columns:We,actionRef:h,request:function(){var l=(0,O.Z)(v().mark(function e(i,a,u){return v().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(Oe+1e3<Date.now())){o.next=3;break}return o.next=3,S();case 3:return o.abrupt("return",{data:H,success:!0,total:H.length});case 4:case"end":return o.stop()}},e)}));return function(e,i,a){return l.apply(this,arguments)}}(),onRow:function(e,i){return{onClick:function(u){},onDoubleClick:function(u){},onContextMenu:function(u){},onMouseEnter:function(u){},onMouseLeave:function(u){}}},rowKey:"key",toolBarRender:function(){return[(0,t.jsx)(W.Z,{type:"primary",onClick:function(){return _e("createForm",n.page)},children:"Add"},"show")]}}),(0,t.jsxs)(I.Z,{title:"New Entry",visible:he,onCancel:function(){return w()},destroyOnClose:!0,footer:!1,bodyStyle:{display:"flex",justifyContent:"space-evenly",alignItems:"center",gap:"1em"},width:"60vw",children:[(0,t.jsx)(R.Z,{layoutType:"Form",onFieldsChange:function(e,i){console.log(e,i)},onFinish:function(){var l=(0,O.Z)(v().mark(function e(i){var a;return v().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Ae(k,i);case 2:a=_.sent,a&&w();case 4:case"end":return _.stop()}},e)}));return function(e){return l.apply(this,arguments)}}(),columns:oe.properties?oe.properties:[]}),(0,t.jsx)(j.Z,{type:"vertical",style:{height:"100%"}})]}),(0,t.jsx)(I.Z,{title:"Edit Entry",width:"400px",visible:ye,onCancel:function(){return w()},destroyOnClose:!0,footer:!1,children:(0,t.jsx)(R.Z,{layoutType:"Form",shouldUpdate:function(e,i){return!0},initialValues:$,syncToInitialValues:!0,onFinish:function(){var l=(0,O.Z)(v().mark(function e(i){var a;return v().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Fe(k,$.projectionId,i);case 2:a=_.sent,a&&w();case 4:case"end":return _.stop()}},e)}));return function(e){return l.apply(this,arguments)}}(),columns:Le.properties})}),(0,t.jsx)(I.Z,{title:"Delete",width:"400px",visible:Ce,onCancel:function(){return w()},destroyOnClose:!0,footer:[(0,t.jsx)(W.Z,{onClick:function(){return w()},children:"Cancel"},"cancel"),(0,t.jsx)(W.Z,{type:"primary",danger:!0,onClick:(0,O.Z)(v().mark(function l(){var e;return v().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ne(k,$.projectionId);case 2:e=a.sent,e&&w();case 4:case"end":return a.stop()}},l)})),children:"Delete"},"delete")],children:(0,t.jsx)("h1",{children:"Are you sure?"})})]})}},48103:function(F,K,r){"use strict";r.d(K,{mC:function(){return V},rV:function(){return Y},Vx:function(){return O},Ue:function(){return N},wz:function(){return D},RB:function(){return b},fx:function(){return x}});var C=r(8870),I=r(93224),Z=r(3182),W=r(94043),P=r.n(W),j=r(21010);function V(p,s){return M.apply(this,arguments)}function M(){return M=(0,Z.Z)(P().mark(function p(s,y){var m,t;return P().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return m=s.projectionName,t=(0,I.Z)(s,["projectionName"]),h.abrupt("return",(0,j.WY)("/api/v1/query/".concat(m,"/getItemList"),(0,C.Z)({method:"GET",params:(0,C.Z)({},t)},y||{})));case 2:case"end":return h.stop()}},p)})),M.apply(this,arguments)}function Y(p,s){return L.apply(this,arguments)}function L(){return L=(0,Z.Z)(P().mark(function p(s,y){var m,t,n;return P().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return m=s.projectionName,t=s.projectionId,n=(0,I.Z)(s,["projectionName","projectionId"]),E.abrupt("return",(0,j.WY)("/api/v1/query/".concat(m,"/item/").concat(t,"/getItem"),(0,C.Z)({method:"GET",params:(0,C.Z)({},n)},y||{})));case 2:case"end":return E.stop()}},p)})),L.apply(this,arguments)}function O(p,s,y){return g.apply(this,arguments)}function g(){return g=(0,Z.Z)(P().mark(function p(s,y,m){var t,n,h;return P().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return t=s.projectionName,n=s.projectionId,h=(0,I.Z)(s,["projectionName","projectionId"]),T.abrupt("return",(0,j.WY)("/api/v1/command/".concat(t,"/item/").concat(n,"/updateItem"),(0,C.Z)({method:"POST",headers:{"Content-Type":"application/json"},params:(0,C.Z)({},h),data:y},m||{})));case 2:case"end":return T.stop()}},p)})),g.apply(this,arguments)}function N(p,s,y){return v.apply(this,arguments)}function v(){return v=(0,Z.Z)(P().mark(function p(s,y,m){var t,n;return P().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return t=s.projectionName,n=(0,I.Z)(s,["projectionName"]),E.abrupt("return",(0,j.WY)("/api/v1/command/".concat(t,"/createItem"),(0,C.Z)({method:"PUT",headers:{"Content-Type":"application/json"},params:(0,C.Z)({},n),data:y},m||{})));case 2:case"end":return E.stop()}},p)})),v.apply(this,arguments)}function D(p,s){return R.apply(this,arguments)}function R(){return R=(0,Z.Z)(P().mark(function p(s,y){var m,t,n;return P().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return m=s.projectionName,t=s.projectionId,n=(0,I.Z)(s,["projectionName","projectionId"]),E.abrupt("return",(0,j.WY)("/api/v1/command/".concat(m,"/item/").concat(t,"/deleteItem"),(0,C.Z)({method:"DELETE",params:(0,C.Z)({},n)},y||{})));case 2:case"end":return E.stop()}},p)})),R.apply(this,arguments)}function b(p){return B.apply(this,arguments)}function B(){return B=(0,Z.Z)(P().mark(function p(s){return P().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,j.WY)("/api/v1/query/getPageList",(0,C.Z)({method:"GET"},s||{})));case 1:case"end":return m.stop()}},p)})),B.apply(this,arguments)}function x(p,s){return A.apply(this,arguments)}function A(){return A=(0,Z.Z)(P().mark(function p(s,y){var m,t;return P().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return m=s.projectionName,t=(0,I.Z)(s,["projectionName"]),h.abrupt("return",(0,j.WY)("/api/v1/query/".concat(m,"/getPage"),(0,C.Z)({method:"GET",params:(0,C.Z)({},t)},y||{})));case 2:case"end":return h.stop()}},p)})),A.apply(this,arguments)}}}]);
